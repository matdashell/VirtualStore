<!DOCTYPE html>
<html lang="pt" xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Home Page VirtualStore</title>
    <div th:replace="base :: import"></div>

</head>
<body>
<header><!--standardNav-->
    <div th:replace="base :: nav"></div>
</header><!--standardNav-->
<main>
    <div class="container">
        <h4 th:text="${loja.getNomeLoja}"></h4>
        <div class="row">
            <div class="card-panel">
                <div><b>Detalhes Loja:</b></div>
                <br>
                <table class="centered">
                    <thead>
                        <tr>
                            <th>Receita Total:</th>
                            <th>Produtos Vendidos</th>
                            <th>Avaliações:</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td th:text="${'R$: '+loja.getReceitaTotal}">1</td>
                            <td th:text="${loja.getProdutosVendidos}">1</td>
                            <td th:text="${loja.getComentariosSize}">1</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="card-panel">
                <div><b>Detalhes Produtos:</b></div>
                <br>
                <table th:if="loja.getProdutoLoja != null" class="centered striped">
                    <thead>
                        <tr>
                            <th>Nome Produto:</th>
                            <th>Quantidade Restantes:</th>
                            <th>Categoria:</th>
                            <th>Excluir</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="produto : ${loja.getProdutoLoja}" class="hoverable">
                            <td>
                                <a th:href="'/produto/'+${produto.getId}">
                                    <span th:text="${produto.getNome}"></span>
                                </a>
                            </td>
                            <td th:text="${produto.getUnidades}"></td>
                            <td th:text="${produto.getCategoria}"></td>
                            <td><a th:href="${'/produto/delete/' + produto.getId}"><i class="material-icons">delete</i></a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</main>
<footer>
    <div th:replace="base :: footer"></div>
</footer>
<!--JavaScript at end of body for optimized loading-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</body>
</html>